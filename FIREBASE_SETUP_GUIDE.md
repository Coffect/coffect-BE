# Firebase Private Key 설정 가이드

## 문제 해결

Firebase Admin SDK 초기화 시 "Failed to parse private key" 오류가 발생하는 경우, 환경 변수에서 private key가 올바르게 포맷되지 않았기 때문입니다.

## 올바른 설정 방법

### 1. .env 파일에서 설정

```env
# 올바른 형식
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCriqAGQya4JE9X\nnjev9FUxtrIRGz+d+qbcpSSzuGbUs+cGoYfIgy5249FABgFzoKysBld4h1sd7ISa\n+nKY5swn/CZrwI3h/kynCADWkyk2B99hpuBsFxEqXBNmcq6nZ2bB6g41M3o1x90E\nJUn31NRLd/YUubqGzlN9pKWAvFspp64XGPid8OuyIsVBLM1ZmGCUxQ12OYcG8Xzo\nlp1njTnmSJE9k2kX43ZD1e+2epEQRU1f+6kqxjwg4CxNIH1TNsL7HvjyZNFjEQw\nxmkK2nvMT/3xyY7nzk67zO8KdY4LLf2wSwax/VpcgJuI96W579f5ehdoqJ4G9/S\ntlwsj8XnGgT2bXJLAgMBAAECggEASi3kDVE0iSSKet4QUpzHNBYKDWUSQh+56MyP\n9VaAljZannCnevnfOeJCNmFid1Hf2XPUl3ZQ3JvOrAUiPIlDpVnN+lIcZW6J/C6D\nBAPHiJBYsnT6/0LqVVsDuKWXCSUZtnk0M6VTD7ahyI0pLQQKaJyc3vtQSYvzIFKY\nGUTNuwfyAfnPI9jPcnfV5UH8XwX1oEhZJvBnkrg8POu4XFPM7yaLE7TEgQXldXh\nPrQDGcYDaospniYDFh+pVutFqDSWiT5WYzu73US1/yW8yz5yjRyuHKUN6NvlKOKF\nyQnM/K9svGYtyn6lFxZgZMN3uhuT88q0pE2VtWKIOUuwT0eEdfeEuAAQKBgQDdg\nirW9qPlwb/uu9hYn0sNr8B+pQeFlHrtzi93zkTzoUvsAtfMbNC3Xg5xYkAvjnco\nSDgqB6d9Xpmn1xSb4nS7aQUpmYucJpYLou9s1WTenCnctMttRzXcv1iCWbA0mDJ3\nWZ6uMWoVgr664JN3LtnX4nyvuvfWBEKhf99oizkvvBCSwKBgQDGQKkjFp66V2Jm\nixQuvwRnJUQckUWM18A0nloFqotdJTRWBMriWqaQOVEeH+gR3zyRdcEBOkcUNZ73\nSCZDmEBBHDVmi0V71kcK8nNgWXfZzp7SqZoRHR7xGXJn8Gq6jbbS+oC+QVB8Kvhz\nxxWA2NE1vYHMIN0vLeW6t/nZSNBPrmQAQKBgHTYtFZ+9og9g0yhBIgebf3jRiBX\n41kfNAzIrEVOyQ1YsJV4ZYxlnIwV7pJ7HJa5lTvHlPD+5qhona9+8p0j1T5GkMOf\nynY5O+wfJIxoysWv7JwIJs9pDnkVKtBgFWY5Hu38dYs3/9jnBku4KbIGH9Mty9P9\nmqMBsYAmU4hmwIGN8vAoGAURF5n2GZUi+BV1ZbDrwXfWApOGtxws1I6P4bX7vId1\nNSXmZhTERDXjCB8i6b6Er/6n9banBQborD2iynOs89bXwSY9ZC33hbWQCwSQLs1n\nz+RyihXqQo1fBQ7x3JlvWCMC3NXXn852Tx9EmLzcRe4HSCcJgu+Rp+fFEZLjHvNN\nYcAECgYBSwHKcmMBeZA7EI4dfRzTanApudSwq8JnKqxxTArNKtabI05LWD2KHPVo\n3/doelhS34AVRAypL+5M1ewiVQ6Q4ZnPmjK/DPtyYrsBACq1e9pQZylv564ZYTa9\nNLFSjzbOwD779IAKYvBipl0TCsrH8gUnFnsXrefLTCOaiz7sJqFT+w==\n-----END PRIVATE KEY-----"
```

### 2. 현재 문제가 있는 형식

```env
# 문제가 있는 형식 (n 문자로 구분됨)
FIREBASE_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCriqAGQya4JE9Xnjev9FUxtrIRGz+d+qbcpSSzuGbUs+cGoYfIgy5249FABgFzoKysBld4h1sd7ISa+nKY5swn/CZrwI3h/kynCADWkyk2B99hpuBsFxEqXBNmcq6nZ2bB6g41M3o1x90EJUn31NRLd/YUubqGzlN9pKWAvFspp64XGPid8OuyIsVBLM1ZmGCUxQ12OYcG8Xzolp1njTnmSJE9k2kX43ZD1e+2epEQRU1f+6kqxjwg4CxNIH1TNsL7HvjyZNFjEQwxmkK2nvMT/3xyY7nzk67zO8KdY4LLf2wSwax/VpcgJuI96W579f5ehdoqJ4G9/Stlwsj8XnGgT2bXJLAgMBAAECggEASi3kDVE0iSSKet4QUpzHNBYKDWUSQh+56MyP9VaAljZannCnevnfOeJCNmFid1Hf2XPUl3ZQ3JvOrAUiPIlDpVnN+lIcZW6J/C6DBAPHiJBYsnT6/0LqVVsDuKWXCSUZtnk0M6VTD7ahyI0pLQQKaJyc3vtQSYvzIFKYGUTNuwfyAfnPI9jPcnfV5UH8XwX1oEhZJvBnkrg8POu4XFPM7yaLE7TEgQXldXhPrQDGcYDaospniYDFh+pVutFqDSWiT5WYzu73US1/yW8yz5yjRyuHKUN6NvlKOKFyQnM/K9svGYtyn6lFxZgZMN3uhuT88q0pE2VtWKIOUuwT0eEdfeEuAAQKBgQDdgirW9qPlwb/uu9hYn0sNr8B+pQeFlHrtzi93zkTzoUvsAtfMbNC3Xg5xYkAvjncoSDgqB6d9Xpmn1xSb4nS7aQUpmYucJpYLou9s1WTenCnctMttRzXcv1iCWbA0mDJ3WZ6uMWoVgr664JN3LtnX4nyvuvfWBEKhf99oizkvvBCSwKBgQDGQKkjFp66V2JmixQuvwRnJUQckUWM18A0nloFqotdJTRWBMriWqaQOVEeH+gR3zyRdcEBOkcUNZ73SCZDmEBBHDVmi0V71kcK8nNgWXfZzp7SqZoRHR7xGXJn8Gq6jbbS+oC+QVB8KvhzxxWA2NE1vYHMIN0vLeW6t/nZSNBPrmQAQKBgHTYtFZ+9og9g0yhBIgebf3jRiBX41kfNAzIrEVOyQ1YsJV4ZYxlnIwV7pJ7HJa5lTvHlPD+5qhona9+8p0j1T5GkMOfynY5O+wfJIxoysWv7JwIJs9pDnkVKtBgFWY5Hu38dYs3/9jnBku4KbIGH9Mty9P9mqMBsYAmU4hmwIGN8vAoGAURF5n2GZUi+BV1ZbDrwXfWApOGtxws1I6P4bX7vId1NSXmZhTERDXjCB8i6b6Er/6n9banBQborD2iynOs89bXwSY9ZC33hbWQCwSQLs1nz+RyihXqQo1fBQ7x3JlvWCMC3NXXn852Tx9EmLzcRe4HSCcJgu+Rp+fFEZLjHvNNYcAECgYBSwHKcmMBeZA7EI4dfRzTanApudSwq8JnKqxxTArNKtabI05LWD2KHPVo3/doelhS34AVRAypL+5M1ewiVQ6Q4ZnPmjK/DPtyYrsBACq1e9pQZylv564ZYTa9NLFSjzbOwD779IAKYvBipl0TCsrH8gUnFnsXrefLTCOaiz7sJqFT+w==n-----END PRIVATE KEY-----n
```

## 해결 방법

### 방법 1: .env 파일 수정 (권장)

1. Firebase Console에서 서비스 계정 키를 다시 다운로드
2. JSON 파일에서 `private_key` 값을 복사
3. .env 파일에서 다음과 같이 설정:

```env
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCriqAGQya4JE9X\nnjev9FUxtrIRGz+d+qbcpSSzuGbUs+cGoYfIgy5249FABgFzoKysBld4h1sd7ISa\n+nKY5swn/CZrwI3h/kynCADWkyk2B99hpuBsFxEqXBNmcq6nZ2bB6g41M3o1x90E\nJUn31NRLd/YUubqGzlN9pKWAvFspp64XGPid8OuyIsVBLM1ZmGCUxQ12OYcG8Xzo\nlp1njTnmSJE9k2kX43ZD1e+2epEQRU1f+6kqxjwg4CxNIH1TNsL7HvjyZNFjEQw\nxmkK2nvMT/3xyY7nzk67zO8KdY4LLf2wSwax/VpcgJuI96W579f5ehdoqJ4G9/S\ntlwsj8XnGgT2bXJLAgMBAAECggEASi3kDVE0iSSKet4QUpzHNBYKDWUSQh+56MyP\n9VaAljZannCnevnfOeJCNmFid1Hf2XPUl3ZQ3JvOrAUiPIlDpVnN+lIcZW6J/C6D\nBAPHiJBYsnT6/0LqVVsDuKWXCSUZtnk0M6VTD7ahyI0pLQQKaJyc3vtQSYvzIFKY\nGUTNuwfyAfnPI9jPcnfV5UH8XwX1oEhZJvBnkrg8POu4XFPM7yaLE7TEgQXldXh\nPrQDGcYDaospniYDFh+pVutFqDSWiT5WYzu73US1/yW8yz5yjRyuHKUN6NvlKOKF\nyQnM/K9svGYtyn6lFxZgZMN3uhuT88q0pE2VtWKIOUuwT0eEdfeEuAAQKBgQDdg\nirW9qPlwb/uu9hYn0sNr8B+pQeFlHrtzi93zkTzoUvsAtfMbNC3Xg5xYkAvjnco\nSDgqB6d9Xpmn1xSb4nS7aQUpmYucJpYLou9s1WTenCnctMttRzXcv1iCWbA0mDJ3\nWZ6uMWoVgr664JN3LtnX4nyvuvfWBEKhf99oizkvvBCSwKBgQDGQKkjFp66V2Jm\nixQuvwRnJUQckUWM18A0nloFqotdJTRWBMriWqaQOVEeH+gR3zyRdcEBOkcUNZ73\nSCZDmEBBHDVmi0V71kcK8nNgWXfZzp7SqZoRHR7xGXJn8Gq6jbbS+oC+QVB8Kvhz\nxxWA2NE1vYHMIN0vLeW6t/nZSNBPrmQAQKBgHTYtFZ+9og9g0yhBIgebf3jRiBX\n41kfNAzIrEVOyQ1YsJV4ZYxlnIwV7pJ7HJa5lTvHlPD+5qhona9+8p0j1T5GkMOf\nynY5O+wfJIxoysWv7JwIJs9pDnkVKtBgFWY5Hu38dYs3/9jnBku4KbIGH9Mty9P9\nmqMBsYAmU4hmwIGN8vAoGAURF5n2GZUi+BV1ZbDrwXfWApOGtxws1I6P4bX7vId1\nNSXmZhTERDXjCB8i6b6Er/6n9banBQborD2iynOs89bXwSY9ZC33hbWQCwSQLs1n\nz+RyihXqQo1fBQ7x3JlvWCMC3NXXn852Tx9EmLzcRe4HSCcJgu+Rp+fFEZLjHvNN\nYcAECgYBSwHKcmMBeZA7EI4dfRzTanApudSwq8JnKqxxTArNKtabI05LWD2KHPVo\n3/doelhS34AVRAypL+5M1ewiVQ6Q4ZnPmjK/DPtyYrsBACq1e9pQZylv564ZYTa9\nNLFSjzbOwD779IAKYvBipl0TCsrH8gUnFnsXrefLTCOaiz7sJqFT+w==\n-----END PRIVATE KEY-----"
```

### 방법 2: 현재 환경 변수 수정

현재 환경 변수를 다음과 같이 수정:

```env
# 기존 (문제가 있는 형식)
FIREBASE_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCriqAGQya4JE9Xnjev9FUxtrIRGz+d+qbcpSSzuGbUs+cGoYfIgy5249FABgFzoKysBld4h1sd7ISa+nKY5swn/CZrwI3h/kynCADWkyk2B99hpuBsFxEqXBNmcq6nZ2bB6g41M3o1x90EJUn31NRLd/YUubqGzlN9pKWAvFspp64XGPid8OuyIsVBLM1ZmGCUxQ12OYcG8Xzolp1njTnmSJE9k2kX43ZD1e+2epEQRU1f+6kqxjwg4CxNIH1TNsL7HvjyZNFjEQwxmkK2nvMT/3xyY7nzk67zO8KdY4LLf2wSwax/VpcgJuI96W579f5ehdoqJ4G9/Stlwsj8XnGgT2bXJLAgMBAAECggEASi3kDVE0iSSKet4QUpzHNBYKDWUSQh+56MyP9VaAljZannCnevnfOeJCNmFid1Hf2XPUl3ZQ3JvOrAUiPIlDpVnN+lIcZW6J/C6DBAPHiJBYsnT6/0LqVVsDuKWXCSUZtnk0M6VTD7ahyI0pLQQKaJyc3vtQSYvzIFKYGUTNuwfyAfnPI9jPcnfV5UH8XwX1oEhZJvBnkrg8POu4XFPM7yaLE7TEgQXldXhPrQDGcYDaospniYDFh+pVutFqDSWiT5WYzu73US1/yW8yz5yjRyuHKUN6NvlKOKFyQnM/K9svGYtyn6lFxZgZMN3uhuT88q0pE2VtWKIOUuwT0eEdfeEuAAQKBgQDdgirW9qPlwb/uu9hYn0sNr8B+pQeFlHrtzi93zkTzoUvsAtfMbNC3Xg5xYkAvjncoSDgqB6d9Xpmn1xSb4nS7aQUpmYucJpYLou9s1WTenCnctMttRzXcv1iCWbA0mDJ3WZ6uMWoVgr664JN3LtnX4nyvuvfWBEKhf99oizkvvBCSwKBgQDGQKkjFp66V2JmixQuvwRnJUQckUWM18A0nloFqotdJTRWBMriWqaQOVEeH+gR3zyRdcEBOkcUNZ73SCZDmEBBHDVmi0V71kcK8nNgWXfZzp7SqZoRHR7xGXJn8Gq6jbbS+oC+QVB8KvhzxxWA2NE1vYHMIN0vLeW6t/nZSNBPrmQAQKBgHTYtFZ+9og9g0yhBIgebf3jRiBX41kfNAzIrEVOyQ1YsJV4ZYxlnIwV7pJ7HJa5lTvHlPD+5qhona9+8p0j1T5GkMOfynY5O+wfJIxoysWv7JwIJs9pDnkVKtBgFWY5Hu38dYs3/9jnBku4KbIGH9Mty9P9mqMBsYAmU4hmwIGN8vAoGAURF5n2GZUi+BV1ZbDrwXfWApOGtxws1I6P4bX7vId1NSXmZhTERDXjCB8i6b6Er/6n9banBQborD2iynOs89bXwSY9ZC33hbWQCwSQLs1nz+RyihXqQo1fBQ7x3JlvWCMC3NXXn852Tx9EmLzcRe4HSCcJgu+Rp+fFEZLjHvNNYcAECgYBSwHKcmMBeZA7EI4dfRzTanApudSwq8JnKqxxTArNKtabI05LWD2KHPVo3/doelhS34AVRAypL+5M1ewiVQ6Q4ZnPmjK/DPtyYrsBACq1e9pQZylv564ZYTa9NLFSjzbOwD779IAKYvBipl0TCsrH8gUnFnsXrefLTCOaiz7sJqFT+w==n-----END PRIVATE KEY-----n

# 수정된 형식 (따옴표 추가 및 n을 \n으로 변경)
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCriqAGQya4JE9X\nnjev9FUxtrIRGz+d+qbcpSSzuGbUs+cGoYfIgy5249FABgFzoKysBld4h1sd7ISa\n+nKY5swn/CZrwI3h/kynCADWkyk2B99hpuBsFxEqXBNmcq6nZ2bB6g41M3o1x90E\nJUn31NRLd/YUubqGzlN9pKWAvFspp64XGPid8OuyIsVBLM1ZmGCUxQ12OYcG8Xzo\nlp1njTnmSJE9k2kX43ZD1e+2epEQRU1f+6kqxjwg4CxNIH1TNsL7HvjyZNFjEQw\nxmkK2nvMT/3xyY7nzk67zO8KdY4LLf2wSwax/VpcgJuI96W579f5ehdoqJ4G9/S\ntlwsj8XnGgT2bXJLAgMBAAECggEASi3kDVE0iSSKet4QUpzHNBYKDWUSQh+56MyP\n9VaAljZannCnevnfOeJCNmFid1Hf2XPUl3ZQ3JvOrAUiPIlDpVnN+lIcZW6J/C6D\nBAPHiJBYsnT6/0LqVVsDuKWXCSUZtnk0M6VTD7ahyI0pLQQKaJyc3vtQSYvzIFKY\nGUTNuwfyAfnPI9jPcnfV5UH8XwX1oEhZJvBnkrg8POu4XFPM7yaLE7TEgQXldXh\nPrQDGcYDaospniYDFh+pVutFqDSWiT5WYzu73US1/yW8yz5yjRyuHKUN6NvlKOKF\nyQnM/K9svGYtyn6lFxZgZMN3uhuT88q0pE2VtWKIOUuwT0eEdfeEuAAQKBgQDdg\nirW9qPlwb/uu9hYn0sNr8B+pQeFlHrtzi93zkTzoUvsAtfMbNC3Xg5xYkAvjnco\nSDgqB6d9Xpmn1xSb4nS7aQUpmYucJpYLou9s1WTenCnctMttRzXcv1iCWbA0mDJ3\nWZ6uMWoVgr664JN3LtnX4nyvuvfWBEKhf99oizkvvBCSwKBgQDGQKkjFp66V2Jm\nixQuvwRnJUQckUWM18A0nloFqotdJTRWBMriWqaQOVEeH+gR3zyRdcEBOkcUNZ73\nSCZDmEBBHDVmi0V71kcK8nNgWXfZzp7SqZoRHR7xGXJn8Gq6jbbS+oC+QVB8Kvhz\nxxWA2NE1vYHMIN0vLeW6t/nZSNBPrmQAQKBgHTYtFZ+9og9g0yhBIgebf3jRiBX\n41kfNAzIrEVOyQ1YsJV4ZYxlnIwV7pJ7HJa5lTvHlPD+5qhona9+8p0j1T5GkMOf\nynY5O+wfJIxoysWv7JwIJs9pDnkVKtBgFWY5Hu38dYs3/9jnBku4KbIGH9Mty9P9\nmqMBsYAmU4hmwIGN8vAoGAURF5n2GZUi+BV1ZbDrwXfWApOGtxws1I6P4bX7vId1\nNSXmZhTERDXjCB8i6b6Er/6n9banBQborD2iynOs89bXwSY9ZC33hbWQCwSQLs1n\nz+RyihXqQo1fBQ7x3JlvWCMC3NXXn852Tx9EmLzcRe4HSCcJgu+Rp+fFEZLjHvNN\nYcAECgYBSwHKcmMBeZA7EI4dfRzTanApudSwq8JnKqxxTArNKtabI05LWD2KHPVo\n3/doelhS34AVRAypL+5M1ewiVQ6Q4ZnPmjK/DPtyYrsBACq1e9pQZylv564ZYTa9\nNLFSjzbOwD779IAKYvBipl0TCsrH8gUnFnsXrefLTCOaiz7sJqFT+w==\n-----END PRIVATE KEY-----"
```

## 주의사항

1. **따옴표 필수**: 환경 변수 값은 반드시 따옴표로 감싸야 합니다.
2. **줄바꿈 문자**: `\n`을 사용하여 줄바꿈을 표현해야 합니다.
3. **공백 제거**: 키 값 앞뒤에 불필요한 공백이 없어야 합니다.

## 테스트

수정 후 애플리케이션을 재시작하면 다음과 같은 메시지가 나타나야 합니다:

```
Firebase Admin SDK 초기화 성공
```

만약 여전히 오류가 발생한다면, Firebase Console에서 서비스 계정 키를 다시 생성하여 사용하세요. 